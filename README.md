# moonbot_ordersaver
Скрипт парсит логи moonbot и сохраняет информацию с разных серверов в одну базу данных для дальнейшего использования в отчетах.

Информация для сохранения:
1. данные по ордерам, включая количество размещенных заявок
2. баны от мунбота/ бинанса
3. данные по перегрузке ЦП
4. информацию о стратегиях


**Данных сохраняются в БД пользователя!**

**Перед использованием кода наймите Python-программиста, чтобы он проверил код на надежность.**


Отдельным проектом выложу код для генерации отчетов в Telegram

## Как все работает
1. по расписанию запускается скрипт, который парсит логи. Так же он ображается к БД мунбота за дополнительными данными
2. данные из логов сохраняются в локальную БД
3. из локальной БД в общую БД отправляются данные

## Инструкция по установке
1. создать БД на отдельном сервере (Ubintu). БД создается с помощью Django
2. скомпилировать файл ordersaver
На сервере с мунботом:
3. записать в папку c:\_saver файлы ordersaver.exe , 2updater_schedule.ps1 , new_schedule.ps1, config.ini. можно их все предварительно залить к себе на сайт и выкачать скриптом add_saver.ps1 (не под админом!)
4. в config.ini указать пути расположения базы данных, например C:\_set1\Moon1-0\data\Binance Futures.db
5. прописать ордерсэйвер в автозапуск
c:\_saver\new_schedule.ps1 (запустить под админом!). Предварительно указать в файле имя пользователя, под которым сессия)

## Компиляция
Компиляцию лучше делать под виндой. Под убунтой у меня не получилось
Компиляция ordersaver - окно видно при запуске
pyinstaller --onefile --noconsole C:\Users\Alex\Documents\_gitprojects\mbot\ordersaver\ordersaver.py (путь к скрипту)

Компиляция ordersaver - запускается в скрытом режиме
pyinstaller --onefile --noconsole --hidden-import=pkg_resources.py2_warn C:\Users\Alex\Documents\_gitprojects\mbot\ordersaver\ordersaver.py

## Поблагодарить разработчика
TRC20 TEAiv6gtdqjkxqndEYTG8ZYbQeMvfrtPAw
